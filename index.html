<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ridon's Green Tea</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&family=Playfair+Display:wght@400&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f8f8;
        }
        header {
            background-color: #4a8c4a;
            color: white;
            text-align: center;
            padding: 0.5rem 0; /* Reduced padding */
        }
        header h1 {
            font-family: 'Playfair Display', serif; /* More appealing font */
            font-size: 2.5rem; /* Larger font size */
            margin: 0; /* Remove default margin */
        }
        nav {
            margin: 10px 0; /* Adjusted margin */
        }
        nav a {
            margin: 0 15px;
            color: #4a8c4a;
            text-decoration: none;
            font-weight: bold;
        }
        .container {
            padding: 20px;
        }
        h2 {
            color: #4a8c4a;
        }
        footer {
            text-align: center;
            padding: 10px 0;
            background-color: #ddd;
            position: relative;
            bottom: 0;
            width: 100%;
        }
        .menu-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }
        .menu-item span {
            flex-grow: 1;
        }
        .menu-item span.price {
            min-width: 50px;
            text-align: right;
        }
        .cart {
            margin-top: 20px;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
        }
        .order-form {
            margin-top: 20px;
        }
        .review-button {
            background-color: #4a8c4a;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            font-size: 16px;
            display: inline-block;
            text-align: center;
        }
        .review-button:hover {
            background-color: #3a6c3a;
        }
        .contact-review {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        /* Modal styles */
        #reviewModal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
            padding-top: 60px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px; /* Increased padding */
            border: 1px solid #888;
            width: 90%;
            max-width: 500px; /* Set a max width for better appearance */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* Subtle shadow */
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        label {
            display: block;
            margin: 10px 0 5px; /* Spacing for labels */
        }
        input[type="email"],
        textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px; /* Rounded edges */
            margin-bottom: 15px; /* Spacing below inputs */
        }
        button[type="submit"] {
            background-color: #4a8c4a;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%; /* Full width button */
        }
        button[type="submit"]:hover {
            background-color: #3a6c3a; /* Darker on hover */
        }
    </style>
</head>
<body>

<header>
    <h1>Welcome to Ridon's Green Tea</h1>
    <nav>
        <a href="#menu">Menu</a>
        <a href="#about">About Us</a>
        <a href="#history">History</a>
        <a href="#cart">Cart</a>
        <a href="#contact">Contact</a>
    </nav>
</header>

<div class="container">
    <section id="menu">
        <h2>Our Tea Selection</h2>
        <div class="menu-item">
            <span>Green Tea</span>
            <span class="price">$4.00</span>
            <button onclick="addToCart('Green Tea', 4.00)">Add to Cart</button>
        </div>
        <div class="menu-item">
            <span>Green Tea with Ginger</span>
            <span class="price">$6.00</span>
            <button onclick="addToCart('Green Tea with Ginger', 6.00)">Add to Cart</button>
        </div>
        <div class="menu-item">
            <span>Green Tea with Honey</span>
            <span class="price">$6.00</span>
            <button onclick="addToCart('Green Tea with Honey', 6.00)">Add to Cart</button>
        </div>
    </section>

    <section id="cart" class="cart">
        <h2>Your Shopping Cart</h2>
        <div id="cart-items"></div>
        <p>Total: $<span id="total-price">0.00</span></p>
        <div class="order-form">
            <h3>Order Confirmation</h3>
            <p>Please fill out your details. Only cash payment accepted upon pickup.</p>
            <label for="first-name">First Name:</label>
            <input type="text" id="first-name" required>
            <label for="last-name">Last Name:</label>
            <input type="text" id="last-name" required>
            <label for="unit-number">Unit Number:</label>
            <input type="text" id="unit-number" required>
            <textarea id="order-message" rows="4" placeholder="Enter your order details..."></textarea>
            
            <!-- Promo code applied here -->
            <div class="promo-code">
                <label for="promo">Promo Code:</label>
                <input type="text" id="promo" placeholder="Enter code">
                <button onclick="applyPromo()">Apply</button>
            </div>
            <button onclick="sendOrder()">Send Order</button>
        </div>
    </section>

    <section id="about">
        <h2>About Us</h2>
        <p>At Ridon's Green Tea, we are passionate about providing the finest teas sourced from around the world. Our goal is to create a warm and inviting atmosphere where tea lovers can come together to enjoy their favorite brews.</p>
    </section>

    <section id="history">
        <h2>History of Green Tea</h2>
        <p>Green tea has a rich history that dates back over 5,000 years in China. Initially used for medicinal purposes, it became popular as a beverage during the Tang Dynasty (618-907 AD). The practice of drinking green tea spread to Japan in the early 9th century, where it was refined into a cultural ritual, especially during the tea ceremony. Green tea is made from the leaves of the Camellia sinensis plant and undergoes minimal oxidation, preserving its natural antioxidants and flavors. Today, it is enjoyed worldwide, celebrated for its health benefits and cultural significance.</p>
    </section>

    <section id="contact">
        <h2>Contact Us</h2>
        <div class="contact-review">
            <div>
                <p>Email: ridon_chaar150@hotmail.com</p>
                <p>Phone: 647-624-6404</p>
                <p>Address: 100 Gloucester Street, Toronto, ON, Canada</p>
            </div>
            <button class="review-button" onclick="openReviewModal()">Leave a Review</button>
        </div>
    </section>
</div>

<!-- Review Modal -->
<div id="reviewModal">
    <div class="modal-content">
        <span class="close" onclick="closeReviewModal()">&times;</span>
        <h2>Leave a Review</h2>
        <label for="review-email">Email:</label>
        <input type="email" id="review-email" placeholder="Enter your email" required>
        
        <label for="review-message">Your Feedback:</label>
        <textarea id="review-message" rows="4" placeholder="Write your review..." required></textarea>
        
        <button type="submit" onclick="submitReview()">Submit Review</button>
    </div>
</div>

<footer>
    <p>&copy; 2024 Ridon's Green Tea. All rights reserved.</p>
</footer>

<script>
    let cart = [];
    let totalPrice = 0;
    let promoApplied = false; // Flag to check if a promo code has been applied

    function addToCart(item, price) {
        cart.push({ item, price });
        totalPrice += price;
        updateCart();
    }

    function updateCart() {
        const cartItems = document.getElementById('cart-items');
        cartItems.innerHTML = '';
        cart.forEach((cartItem, index) => {
            cartItems.innerHTML += `<div class="cart-item">${cartItem.item} - $${cartItem.price.toFixed(2)} <button onclick="removeFromCart(${index})">Remove</button></div>`;
        });
        document.getElementById('total-price').innerText = totalPrice.toFixed(2);
    }

    function removeFromCart(index) {
        totalPrice -= cart[index].price;
        cart.splice(index, 1);
        updateCart();
    }

    function applyPromo() {
        const promoCode = document.getElementById('promo').value.trim();
        let discount = 0;

        // Check if a promo code has already been applied
        if (promoApplied) {
            alert("Promo code has already been applied.");
            return;
        }

        // Promo code for 25% discount
        if (promoCode === "SAVE25") {
            discount = totalPrice * 0.25; // 25% discount
            alert("Promo code applied! You saved $" + discount.toFixed(2));
        } else {
            alert("Invalid promo code.");
            return;
        }

        totalPrice -= discount;
        updateCart();
        document.getElementById('promo').value = ''; // Clear the input
        promoApplied = true; // Set the promoApplied flag
    }

    function sendOrder() {
        const firstName = document.getElementById('first-name').value.trim();
        const lastName = document.getElementById('last-name').value.trim();
        const unitNumber = document.getElementById('unit-number').value.trim();
        const orderMessage = document.getElementById('order-message').value;

        if (firstName === '' || lastName === '' || unitNumber === '' || orderMessage.trim() === '') {
            alert('Please fill in all required fields.');
            return;
        }

        const messageBody = `
            Order Details:
            Name: ${firstName} ${lastName}
            Unit: ${unitNumber}
            Order Details: ${orderMessage}
            Total: $${totalPrice.toFixed(2)}
            Payment: Cash only
        `;

        const mailtoLink = `mailto:ridon_chaar150@hotmail.com?subject=Order Confirmation&body=${encodeURIComponent(messageBody)}`;
        window.location.href = mailtoLink;

        resetOrder();
    }

    function resetOrder() {
        cart = [];
        totalPrice = 0;
        updateCart();
        document.getElementById('order-message').value = '';
        document.getElementById('first-name').value = '';
        document.getElementById('last-name').value = '';
        document.getElementById('unit-number').value = '';
        promoApplied = false; // Reset promo code application status
    }

    function openReviewModal() {
        document.getElementById("reviewModal").style.display = "block";
    }

    function closeReviewModal() {
        document.getElementById("reviewModal").style.display = "none";
    }

    function submitReview() {
        const email = document.getElementById('review-email').value.trim();
        const reviewMessage = document.getElementById('review-message').value.trim();

        if (email === '' || reviewMessage === '') {
            alert('Please fill in all fields.');
            return;
        }

        const reviewBody = `Email: ${email}\nReview: ${reviewMessage}`;
        const mailtoLink = `mailto:ridon_chaar150@hotmail.com?subject=Customer Review&body=${encodeURIComponent(reviewBody)}`;
        window.location.href = mailtoLink;

        closeReviewModal(); // Close the modal after submission
        document.getElementById('review-email').value = '';
        document.getElementById('review-message').value = '';
    }
</script>

</body>
</html>
